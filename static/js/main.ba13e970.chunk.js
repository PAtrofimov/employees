(this["webpackJsonpemployee-birthdates"]=this["webpackJsonpemployee-birthdates"]||[]).push([[0],{46:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),s=n.n(a),c=n(16),l=n.n(c),o=(n(46),n(12)),i=n(38),u=n(10),m=n(26),b=n(13),j=n(11),d="GET_USERS_REQUEST",h="GET_USERS_SUCCESS",p="GET_USERS_FAILURE",f="SET_USERS_MARKS",y={loading:!1,users:[],error:""},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case h:var n=JSON.parse(sessionStorage.getItem("activeUsers")),r=t.payload;return n&&n.length>0&&(r=t.payload.map((function(e){return n.includes(e.id)?Object(j.a)(Object(j.a)({},e),{},{active:!0}):e}))),{loading:!1,users:r,error:""};case p:return{loading:!1,users:[],error:t.payload};case f:console.log({payload:t.payload});var a=e.users.map((function(e){return e.id===t.payload?Object(j.a)(Object(j.a)({},e),{},{active:!e.active}):e}));return sessionStorage.setItem("activeUsers",JSON.stringify(a.filter((function(e){return!0===e.active})).map((function(e){return e.id})))),Object(j.a)(Object(j.a)({},e),{},{users:a});default:return e}},g=function(e){return Object(u.c)({router:Object(b.b)(e),user:O})},x=n(36),N=n.n(x),v=n(37),S=Object(i.a)();var U=n(20),E=n(3),k=n(39),M=n.n(k),F=function(){return{type:d}},D=function(e){return{type:h,payload:e}},w=function(e){return{type:p,payload:e}},C=[{number:1,name:"January"},{number:2,name:"February"},{number:3,name:"March"},{number:4,name:"April"},{number:5,name:"May"},{number:6,name:"June"},{number:7,name:"July"},{number:8,name:"August"},{number:9,name:"September"},{number:10,name:"October"},{number:11,name:"November"},{number:12,name:"December"}],J=function(e){var t=e.users,n=function(e,t){return e.filter((function(e){return e.month===t.number&&e.active})).map((function(e){var n="".concat(e.fullName," - ").concat(e.number," ").concat(t.name,", ").concat(e.year," year");return Object(r.jsx)("li",{className:"employees-birthday-item",children:n},e.id)}))};return Object(r.jsx)("nav",{className:"employees-birthday",children:function(e){var t=C.filter((function(t){return void 0!==e.find((function(e){return e.month===t.number&&e.active}))}));return 0===t.length?Object(r.jsx)("p",{className:"employees-birthday-noselected",children:"No selected employees"}):t.map((function(t){return Object(r.jsxs)("a",{className:"employees-birthday-month",href:"#",children:[Object(r.jsx)("h2",{className:"employees-birthday-heading",children:t.name}),Object(r.jsx)("ul",{className:"employees-birthday-items",children:n(e,t)})]},t.number)}))}(t)})};J.defaultProps={users:[]};var R=J,T=n(40),_=function(e,t){return e.fullName>t.fullName?1:e.fullName<t.fullName?-1:0},L=function(e){var t=e.users,n=e.setUsersMarks,a=function(e,t){var a=e.filter((function(e){return e.firstLetter===t})).sort(_);return 0===a.length?Object(r.jsx)("li",{className:"employee-letter-item",children:"..."}):a.map((function(e){return Object(r.jsx)("li",{className:"employee-letter-item",children:Object(r.jsxs)("label",{className:"employee-letter-fio",children:[Object(r.jsx)("span",{className:"employee-letter-span",children:e.fullName}),Object(r.jsx)("input",{type:"checkbox",className:"employee-checkbox",checked:e.active,onChange:function(t){t.target;console.log({user:e,setUsersMarks:n}),n(e.id)}})]})},e.id)}))};return Object(r.jsx)("nav",{className:"employees-letters",children:function(e){return Object(T.a)("ABCDEFGHIJKLMNOPQRSTUVWXYZ").map((function(t){return Object(r.jsxs)("a",{className:"employees-letter",href:"#",children:[Object(r.jsx)("h2",{className:"employees-letter-heading",children:t}),Object(r.jsx)("ul",{className:"employees-letter-section",children:a(e,t)})]},t)}))}(t)})};L.defaultProps={users:[]};var I=L;var A,G={setUsersMarks:function(e){return{type:f,payload:e}},getUsers:function(){return function(e){e(F()),M.a.get("https://yalantis-react-school-api.yalantis.com/api/task0/users").then((function(t){var n=t.data.map((function(e){return{id:e.id,fullName:"".concat(e.lastName," ").concat(e.firstName),firstLetter:e.lastName.substr(0,1).toUpperCase(),month:new Date(e.dob).getMonth()+1,number:new Date(e.dob).getDate(),year:new Date(e.dob).getFullYear(),active:!1}}));e(D(n))})).catch((function(t){e(w(t.message))}))}}},P=Object(o.c)((function(e){return{userData:e.user}}),(function(e){return Object(u.b)(G,e)}))((function(e){var t=e.userData,n=e.getUsers,c=e.setUsersMarks;return Object(a.useEffect)((function(){n()}),[]),t.loading?Object(r.jsx)("h2",{children:"Loading"}):t.error?Object(r.jsx)("h2",{children:t.error}):Object(r.jsxs)(s.a.Fragment,{children:[Object(r.jsxs)("main",{className:"employees-wrapper",children:[Object(r.jsxs)("section",{className:"employees-alphabet",children:[Object(r.jsx)("h1",{className:"employees-heading",children:"Employees"}),Object(r.jsx)(I,{users:t.users,setUsersMarks:c})]}),Object(r.jsxs)("article",{className:"employees-birthday-wrapper",children:[Object(r.jsx)("h1",{className:"employees-heading",children:"Employees birthday"}),Object(r.jsx)("hr",{className:"line line-right"}),Object(r.jsx)(R,{users:t.users})]})]}),Object(r.jsx)("hr",{className:"line line-bottom"})]})})),B=function(){return Object(r.jsxs)("header",{className:"not-found",children:[Object(r.jsx)("div",{className:"not-found-error",children:"404 Not Found "}),"Go to ",Object(r.jsx)(U.b,{to:"/employees",children:"Home"})," page"]})},H=Object(u.e)(g(S),A,Object(u.d)(Object(u.a)(Object(m.a)(S),N.a,v.a))),K=function(){return Object(r.jsx)(o.a,{store:H,children:Object(r.jsx)(b.a,{history:S,children:Object(r.jsxs)(U.a,{children:[Object(r.jsx)(E.a,{path:"/employees",component:P}),Object(r.jsx)(E.a,{exact:!0,path:"/",component:B})]})})})},Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,70)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))};l.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(K,{})}),document.getElementById("root")),Q()}},[[69,1,2]]]);
//# sourceMappingURL=main.ba13e970.chunk.js.map